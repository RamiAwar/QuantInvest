{% extends "base.html" %}
{% set active_page = "profile_extractor" %}
{% block content %}



<div class="row justify-content-center">

  <!-- ALL THREE SLIDERS CONTAINER -->
  <div id="configuration-container" class="col-xs-12 col-md-10 col-xl-4 ml-5 mr-5 mt-auto">
    

    <!-- Time range slider -->
    <h3> Time Range </h3>
    <div id="time-range-slider" class="mb-5" data-range-value-min="2014" data-range-value-max="2019"></div>
    <div class="row d-none">
        <div class="col-6">
            <span class="range-slider-value value-low" data-range-value-low="2014" id="time-range-slider-value-low"></span>
        </div>
        <div class="col-6 text-right">
            <span class="range-slider-value value-high" data-range-value-high="2019" id="time-range-slider-value-high"></span>
        </div>
    </div>



    <!-- Expected returns slider -->
    <h3> Expected Returns </h3>
    <div class="input-slider-container mb-5">
      <div id="expected-returns-slider" class="input-slider" data-range-value-min="100" data-range-value-max="500"></div>
      <div class="row mt-3 d-none">
        <div>
          <span id="expected-return-slider-value" class="range-slider-value" data-range-value-low="100"></span>
        </div>
      </div>
    </div>


    <!-- Expected risk slider -->
    <h3> Volatility </h3>
    <div class="input-slider-container mb-7 mr-auto">
      <div id="expected-risk-slider" class="input-slider" data-range-value-min="100" data-range-value-max="500"></div>
      <div class="row mt-3 d-none">
        <div class="col-6">
          <span id="expected-risk-slider-value" class="range-slider-value" data-range-value-low="100"></span>
        </div>
      </div>
    </div>
  </div>

</div>

<div class="row justify-content-center">

  <!-- Chart container -->
  <div class="col-xs-12 col-md-10 col-xl-8  mb-5 mb-xl-4">
    <div id="chart-container" class="card bg-gradient-default shadow">
      <div class="card-header bg-transparent">
        <div class="row align-items-center">
          <div class="col">
            <h6 class="text-uppercase text-light ls-1 mb-1">Backtesting</h6>
            <h2 class="text-white mb-0">Portfolio Performance</h2>
          </div>
        </div>
      </div>
      <div class="card-body">
        <!-- Chart -->
        <div class="chart">
          <!-- Chart wrapper -->
          <canvas id="portfolio-performance-chart" class="chart-canvas"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row justify-content-center">
  <div class="col-xs-12 col-md-10 col-xl-8 mb-5 mb-xl-0">
    <div id="chart-container" class="card bg-gradient-default shadow">
      <div class="card-header bg-transparent">
        <div class="row align-items-center">
          <div class="col">
            <h6 class="text-uppercase text-light ls-1 mb-1">Optimal Portfolio</h6>
            <h2 class="text-white mb-0">Constituents</h2>
          </div>
        </div>
      </div>
      <div class="card-body">
        <!-- Chart -->
        <div class="chart mb-5">
          <!-- Chart wrapper -->
          <canvas id="chart-pie" class="chart-canvas"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">

// SETTING VARIABLES FOR JS FROM FLASK
OPTIMIZER_ENDPOINT = {{ optimizer_url }};

</script>

<script src="{{url_for('static', filename='js/wnumb.js') }}"></script>
<script src="{{url_for('static', filename='js/nouislider.min.js') }}"></script>
<script src="{{url_for('static', filename='js/chart.bundle.min.js') }} "></script>
<script src="{{url_for('static', filename='js/argon.min.js') }}"></script>
<script src="{{url_for('static', filename='js/busyload.min.js') }}"></script>
<script src="{{url_for('static', filename='js/profile_extractor.js') }} "></script>

<link rel="stylesheet" href="{{ url_for('static', filename='css/lib/busyload.min.css') }}"/>
<link rel="stylesheet" href="{{ url_for('static', filename='css/profile_extractor.css') }}"/>

{% endblock %}

