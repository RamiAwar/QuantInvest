{% extends "base.html" %}
{% set active_page = "profile_extractor" %}
{% block content %}



<div class="nav-wrapper">
    <ul class="nav nav-pills nav-fill flex-column flex-md-row" id="tabs-icons-text" role="tablist">
        <li class="nav-item">
            <a class="nav-link mb-sm-3 mb-md-0 active" id="tabs-icons-text-1-tab" data-toggle="tab" href="#tab-1" role="tab" aria-controls="tabs-icons-text-1" aria-selected="true">Basic</a>
        </li>
        <li class="nav-item">
            <a class="nav-link mb-sm-3 mb-md-0" id="tabs-icons-text-2-tab" data-toggle="tab" href="#tab-2" role="tab" aria-controls="tabs-icons-text-2" aria-selected="false">Custom</a>
        </li>
   
    </ul>
</div>
<div class="card shadow">
    <div class="card-body">
        <div class="tab-content" id="myTabContent">
          
          <div class="tab-pane fade show active" id="tab-1" role="tabpanel" aria-labelledby="tabs-icons-text-1-tab">

            <!-- Sliders, buttons interface -->
            <div class="row justify-content-center mt-5 mb-5">

              <!-- ALL THREE SLIDERS CONTAINER -->
              <div id="configuration-container" class="col-xs-12 col-md-10 col-xl-4 ml-5 mr-5 mt-auto mb-md-5">
                
                <h1> Modify Portfolio Characteristics </h1>
                <hr>
                <!-- Time range slider -->
                <h3> Time Range </h3>
                <div id="time-range-slider" class="mb-5" data-range-value-min="2014" data-range-value-max="2019"></div>
                <div class="row d-none">
                    <div class="col-6">
                        <span class="range-slider-value value-low" data-range-value-low="2014" id="time-range-slider-value-low"></span>
                    </div>
                    <div class="col-6 text-right">
                        <span class="range-slider-value value-high" data-range-value-high="2019" id="time-range-slider-value-high"></span>
                    </div>
                </div>


                <!-- Expected returns slider -->
                <h3> Expected Returns </h3>
                <div class="input-slider-container mb-5">
                  <div id="expected-returns-slider" class="input-slider" data-range-value-min="100" data-range-value-max="500"></div>
                  <div class="row mt-3 d-none">
                    <div>
                      <span id="expected-return-slider-value" class="range-slider-value" data-range-value-low="100"></span>
                    </div>
                  </div>
                </div>


                <!-- Expected risk slider -->
                <h3> Volatility </h3>
                <div class="input-slider-container mb-5 mr-auto">
                  <div id="expected-risk-slider" class="input-slider" data-range-value-min="100" data-range-value-max="500"></div>
                  <div class="row mt-3 d-none">
                    <div class="col-6">
                      <span id="expected-risk-slider-value" class="range-slider-value" data-range-value-low="100"></span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Action buttons container -->
              <div class="row col-md-10 col-xl-2 align-items-center">
                <div class="container">
                  
                  <button id="submit" type="button" class="btn btn-block btn-primary" style="max-height:50px;">Optimize</button>
                </div>
              </div>
            </div>

            <!-- Portfolio performance chart -->
            <div class="row justify-content-center">


              <!-- Chart container -->
              <div class="col-xs-12 col-md-10 col-xl-8  mb-5 mb-xl-4">
                <h1> Optimization Result </h1>
                <hr>
                <button type="button" class="btn btn-block btn-primary mb-3" style="max-height:50px;">Explore</button>
                <div id="performance-chart-container" class="chart-container card bg-gradient-default shadow">  
                  <div class="card-header bg-transparent">
                    <div class="row align-items-center">
                      <div class="col">
                        <h6 class="text-uppercase text-light ls-1 mb-1">Backtesting</h6>
                        <h2 class="text-white mb-0">Portfolio Performance</h2>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <!-- Chart -->
                    <div class="chart">
                      <!-- Chart wrapper -->
                      <canvas id="portfolio-performance-chart" class="chart-canvas"></canvas>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Pie chart -->
            <div class="row justify-content-center">
              <div class="col-xs-12 col-md-10 col-xl-8 mb-5 mb-xl-0">
                <div id="portfolio-chart-container" class="chart-container card bg-gradient-default shadow">
                  <div class="card-header bg-transparent">
                    <div class="row align-items-center">
                      <div class="col">
                        <h6 class="text-uppercase text-light ls-1 mb-1">Optimal Portfolio</h6>
                        <h2 class="text-white mb-0">Constituents</h2>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <!-- Chart -->
                    <div class="chart mb-5">
                      <!-- Chart wrapper -->
                      <canvas id="chart-pie" class="chart-canvas"></canvas>
                    </div>
                  </div>
                </div>
              </div>
            </div>            
          </div>

          <div class="tab-pane fade show active" id="tab-2" role="tabpanel" aria-labelledby="tabs-icons-text-2-tab">
          </div>

        </div>
    </div>
</div>



<script type="text/javascript">
  
  OPTIMIZER_ENDPOINT = "{{ url_for('api.optimize_simple') }}"
  GET_JOB_ENDPOINT = "{{ url_for('api.check_job_status') }}"


</script>

<script src="{{url_for('static', filename='js/wnumb.js') }}"></script>
<script src="{{url_for('static', filename='js/nouislider.min.js') }}"></script>
<script src="{{url_for('static', filename='js/chart.bundle.min.js') }} "></script>
<script src="{{url_for('static', filename='js/argon.min.js') }}"></script>
<script src="{{url_for('static', filename='js/busyload.min.js') }}"></script>

<script src="{{url_for('static', filename='js/utils.js') }}"></script>
<script src="{{url_for('static', filename='js/profile_extractor.js') }} "></script>

<link rel="stylesheet" href="{{ url_for('static', filename='css/lib/busyload.min.css') }}"/>
<link rel="stylesheet" href="{{ url_for('static', filename='css/profile_extractor.css') }}"/>

{% endblock %}

